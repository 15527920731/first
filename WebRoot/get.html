<!DOCTYPE html>
<html>
  <head>
   
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

    <title>注册</title>
   	<script type="text/javascript" src="js/jquery-3.2.1.js"></script>
	<script type="text/javascript">
		function validate(){
			var name=$("#name").val();
			if(name==null || name==""){
				$("#nameDiv").html("用户名不能为空");
			}else{
				//jquery中get实现ajax
				//$.get(url,[,data],[,success],[,dataType])
				$.get("userServlet",{"name":name},
				function(result){
						if(result=="true"){
							$("#nameDiv").html("用户名已经存在");
						}else{
							$("#nameDiv").html("用户名可以使用");
						}
					},"text");
					
				}
			}	
				
				//jquery实现ajax
			/**	$.ajax({
					url:"userServlet",
					type:"get",
					data:{"name":name},
					dataType:"text",
					success:function(result){
						if(result=="true"){
							$("#nameDiv").html("用户名已经存在");
						}else{
							$("#nameDiv").html("用户名可以使用");
						}
					},
					error:function(){
						alert("报错了");
					}
				});
			}
		}
	*/
	</script>
  </head>
  
  <body>
    <form action="" id="form1">
    	<table>
    		<tr>
    			<td>用户名</td>
    			<td><input type="text" name="name" id="name" onblur="validate();"/>	&nbsp;<font color="red">*</font>			
    			</td>
    			<td>
    				<div id="nameDiv"></div>
    			</td>
    			
    		</tr>
    	</table>
    </form>
  </body>
</html>

